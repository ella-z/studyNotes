# 内容协商机制
- 内容协商机制是指客户端和服务器就相应的资源内容进行交涉，然后提供给客户端最为适合的资源。内容协商会以相应资源的语言，字符集，编码方式等作为
判断的基准。

### 内容协商的方式
- 客户端驱动：客户端发起请求，服务器发送可选项列表，客户端做出选择后再发送第二次请求。
   + 优点：易实现，而且能遵循真实客户的意愿。
   + 缺点：增加了时延，要发布两次请求。
- 服务器驱动（使用最多）：服务器检查客户端的请求头部集并决定提供哪个版本的页面。
   + 优点：比客户端的协商要快。
   + 缺点：当客户端的请求头部集都不匹配时，服务器要进行猜测。
- 透明协商：某个中间设备(通常是缓存代理)代表客户端进行协商。
   + 优点：免除了web服务器的协商开销，比客户端驱动快。
   + 缺点：不是标准的http方式，并没有提供相应的规范。
   
### 服务器驱动内容协商
#### 请求首部集
- Accept：告知服务器发送何种媒体类型。              
- Accept-Language：告知服务器发送何种语言。
- Accept-Charset：告知服务器发送何种字符集。
- Accept-Encoding：告知服务器次啊用何种编码方式。

#### 响应首部集
- Content-Type ----对应的是----Accept
- Content-Language ----对应的是----Accept-Language
- Content-Type ----对应的是----Accept-Charset
- Content-Encoding ----对应的是----Accept-Encoding

#### 近似匹配
- q值，范围0~1
```
🌰：
//优先级nl>en，并且不接受fr以及tr 
Accept-Language: en;q=0.5,fr;q=0.0,nl;q=1.0,,tr;q=0.0
```






