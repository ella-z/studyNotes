# Web安全攻击
- Web应用是由动态脚本、编译过的代码等组合而成，它通常架设在Web服务器上，用户在Web浏览器上发送
请求，这些请求使用HTTP协议，由Web应用和企业后台的数据库及其他动态内容通信。

### Web应用安全威胁的分类
1. 验证访问：用来确认某用户、服务或是应用身份的攻击手段。
2. 授权访问：用来决定是否某用户、服务或是应用具有执行请求动作必要权限的攻击手段。
3. 客户侧攻击：用来扰乱或是探测Web站点用户的攻击手段。
4. 命令执行：在Web站点上执行远程命令的攻击手段。
5. 信息暴露：用来获取Web站点具体系统信息的攻击手段。
6. 逻辑性攻击：用来扰乱或是探测Web应用逻辑流程的攻击手段。

### 安全漏洞

#### 验证机制安全
- 验证机制是web应用程序中最简单的一种安全机制。
- 验证机制是应用程序防御恶意攻击的核心机制，它处于安全防御的最前沿，若被用户轻易突破了，通常应用程序的全部功能、数据都会被控制，所以若缺乏了安全有效的验证机制，其他的核心安全机制都无法实施(会话管理和
访问控制)。
- 一般的验证过程🌰：应用程序必须合适用户提交的用户名和密码是否正确。正确则允许登录，否则就禁止登录。
- 典型的身份验证模式：
<br />
<img src="https://github.com/ella-z/studyNotes/blob/master/HTTP%E5%8D%8F%E8%AE%AE/images/%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%BC%8F.PNG" alt="身份验证模式" width="600px" height="400px">

   + 验证的技术
    1. 基于HTML表单的验证
    2. 多元机制，如组合型密码（需要多次输入）
    3. 客户端ssl证书（多用于网银）
- 验证机制的漏洞
   1. 弱密码，许多web应用程序对密码的强度没有过多要求，很容易导致密码过于简单而被攻击者猜到。
   2. 暴力破解，登录功能的公开性会诱使攻击者试图猜测用户名和密码，从而获得访问应用程序的权力。如果应用程序允许攻击者用不同的密码暴力尝试，直到他找到正确的密码，那么这个应用程序就非常容易遭受攻击。
       - 执行暴力攻击的过程：
       <img src="https://github.com/ella-z/studyNotes/blob/master/HTTP%E5%8D%8F%E8%AE%AE/images/%E6%89%A7%E8%A1%8C%E6%9A%B4%E5%8A%9B%E6%94%BB%E5%87%BB.PNG" alt="执行暴力攻击的过程" width="500px" height="350px">  
      
       - 对于暴力破解的安全措施
          1. 验证码技术(最常见和有效的应对方式)
          2. Cookie和会话检测，设置一个cookie，如failedlogin=0；登录尝试失败，递增该值，达到某个上限，检测到这个值并拒绝在此处理登录，但是因为cookie在客户端，所以很容易被攻击者截取HTTP请求并修改HTTP请求的头部(cookie存储在请求的头部)。
          3. 双因子认证，双因子认证是综合个人密码和手机来达到双重认证效果。
   3. 忘记密码，忘记密码的核心问题就是忘记密码的流程跳过了身份验证。 
      - 通过邮件找回密码的功能中存在的安全问题：因为GET请求的URL里，目标email参数的是明文的 ，我们可以将任意用户的密码重置邮件发给指定的邮箱。
   4. 过于依赖MD5加密
      - 加密的内容很有可能被破解。     
   5. 多阶登录，执行多次验证检查可能会提高登录机制的安全性，但响应的，这个过程也可能存在更多的执行缺陷。
      - 可能存在设计缺陷：
         + 应用程序每个阶段相互之间没有相关性，那么攻击者很有可能直接绕到最后一个阶段，因为最后一个阶段无法确认，攻击者是否经历了前面的阶段。
         + 应用程序可能会认为每个阶段的用户身份不会发生改变，因此，并未在每个阶段都明确确认用户的身份。
         + 应用程序可能会提出一个随机选择的问题，但是问题的细节并没有保存在服务器上，而是保存在隐藏的HTML表单字段中，这个时候攻击者就可以通过修改隐藏的字段选择已经截获或已经遍历到答案的问题，进行验证登录。


#### XSS(跨站脚本)攻击
- XSS让攻击者能够在受害者的浏览器中执行脚本，并劫持用户会话、破坏网站或将用户重定向到恶意站点。

